<nav
  class="navbar flex items-center justify-between px-8 py-4 sticky top-0 z-50 backdrop-blur-xl bg-[#0a0a0a]/80 border-b border-[#00d58b]/20 shadow-[0_0_15px_#00d58b20] transition-all duration-300"
>
  <!-- Left: Logo + Links -->
  <div class="flex items-center space-x-10">
    <a
      routerLink="/"
      class="text-2xl font-bold bg-gradient-to-r from-[#00d58b] to-[#00b3ff] bg-clip-text text-transparent tracking-wider hover:opacity-90 transition"
    >
      Wa<span class="text-[#7dffd6]">mo</span>Events
    </a>

    <!-- Desktop Menu -->
    <div class="hidden md:flex items-center space-x-6 text-sm font-medium">
      <a (click)="navigate('/home')" class="nav-link text-gray-300 hover:text-[#00d58b] transition"
        >Inicio</a
      >
      <a
        *ngIf="userRole === 'admin'"
        (click)="navigate('/create-event')"
        class="nav-link text-gray-300 hover:text-[#00d58b] transition"
        >Crear Evento</a
      >
      <a
        *ngIf="userRole === 'admin'"
        (click)="navigate('/validate-tickets')"
        class="nav-link text-gray-300 hover:text-[#00d58b] transition"
        >Validar Tickets</a
      >
      <a
        *ngIf="isLoggedIn"
        (click)="navigate('/my-tickets')"
        class="nav-link text-gray-300 hover:text-[#00d58b] transition"
        >Mis Tickets</a
      >

      <!-- Estadísticas (Admin) -->
      <a
        *ngIf="userRole === 'admin'"
        (click)="navigate('/my-events')"
        class="nav-link text-gray-300 hover:text-[#00d58b] transition"
      >
        Estadísticas
      </a>

      <!-- Verificar Cuenta -->
      <button
        *ngIf="isLoggedIn && !isVerified && userRole != 'admin'"
        (click)="requestVerification()"
        [disabled]="loadingVerify"
        class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-full font-medium transition disabled:opacity-50 disabled:cursor-not-allowed"
      >
        {{ loadingVerify ? 'Enviando...' : 'Verificar cuenta' }}
      </button>

      <p *ngIf="verifyMessage" class="text-sm text-yellow-300 ml-2">{{ verifyMessage }}</p>
    </div>
  </div>

  <!-- Right: Search + Buttons -->
  <div class="flex items-center space-x-3">
    <div class="relative hidden sm:block">
      <input
        type="text"
        [(ngModel)]="searchTerm"
        placeholder="Buscar..."
        class="bg-[#141415] text-gray-200 placeholder-gray-500 rounded-full px-4 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-[#00d58b] transition-all w-48 sm:w-60"
      />
    </div>

    <button
      (click)="onSearch()"
      class="hidden sm:flex bg-gradient-to-r from-[#00d58b] to-[#00b3ff] text-black font-semibold px-4 py-2 rounded-full hover:opacity-90 transition"
    >
      Buscar
    </button>

    <button
      *ngIf="isLoggedIn"
      (click)="logout()"
      class="hidden sm:flex text-sm font-medium px-4 py-2 rounded-full border border-white/10 text-gray-300 hover:bg-white/10 transition"
    >
      Cerrar sesión
    </button>

    <button
      *ngIf="!isLoggedIn"
      (click)="navigate('/login')"
      class="hidden sm:flex text-sm font-semibold px-4 py-2 rounded-full bg-gradient-to-r from-[#00d58b] to-[#00b3ff] text-black hover:opacity-90 transition"
    >
      Iniciar sesión
    </button>

    <!-- Menu Button -->
    <button (click)="toggleMenu()" class="md:hidden text-gray-300 hover:text-[#00d58b] transition">
      <span class="material-icons text-[28px]">menu</span>
    </button>
  </div>
</nav>

<header class="text-gray-400 bg-gray-900 body-font">
  <div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center">
    <a
      routerLink="/"
      class="flex font-bold items-center mb-4 md:mb-0 bg-gradient-to-r from-green-400 to-teal-400 bg-clip-text text-transparent cursor-pointer"
    >
      <fa-icon [icon]="faMeteor" class="text-2xl" style="color: #00d58b"></fa-icon>

      <span class="ml-3 text-xl">WamoEvents</span>
    </a>
    <nav
      class="md:mr-auto md:ml-4 md:py-1 md:pl-4 md:border-l md:border-gray-700 flex flex-wrap items-center text-base justify-center cursor-pointer"
    >
      <a
        (click)="navigate('/home')"
        class="relative mr-5 text-gray-300 hover:text-[#00d58b] transition-colors duration-300 after:content-[''] after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-0 after:bg-[#00d58b] after:shadow-[0_0_6px_#00d58b] after:transition-all after:duration-500 hover:after:w-full cursor-pointer"
        >Inicio</a
      >
      <a
        *ngIf="userRole === 'admin'"
        (click)="navigate('/create-event')"
        class="relative mr-5 text-gray-300 hover:text-[#00d58b] transition-colors duration-300 after:content-[''] after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-0 after:bg-[#00d58b] after:shadow-[0_0_6px_#00d58b] after:transition-all after:duration-500 hover:after:w-full cursor-pointer"
        >Crear evento</a
      >
      <a
        *ngIf="userRole === 'admin'"
        (click)="navigate('/validate-tickets')"
        class="relative mr-5 text-gray-300 hover:text-[#00d58b] transition-colors duration-300 after:content-[''] after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-0 after:bg-[#00d58b] after:shadow-[0_0_6px_#00d58b] after:transition-all after:duration-500 hover:after:w-full cursor-pointer"
        >Validar tickets</a
      >
      <a
        *ngIf="isLoggedIn"
        (click)="navigate('/my-tickets')"
        class="relative mr-5 text-gray-300 hover:text-[#00d58b] transition-colors duration-300 after:content-[''] after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-0 after:bg-[#00d58b] after:shadow-[0_0_6px_#00d58b] after:transition-all after:duration-500 hover:after:w-full cursor-pointer"
        >Mis tickets</a
      >
      <a
        *ngIf="userRole === 'admin'"
        (click)="navigate('/my-events')"
        class="relative mr-5 text-gray-300 hover:text-[#00d58b] transition-colors duration-300 after:content-[''] after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-0 after:bg-[#00d58b] after:shadow-[0_0_6px_#00d58b] after:transition-all after:duration-500 hover:after:w-full cursor-pointer"
        >Estadísticas</a
      >
      <div class="relative ml-4">
        <input
          type="text"
          [(ngModel)]="searchTerm"
          placeholder="Buscar..."
          (keyup.enter)="onSearch()"
          class="w-48 lg:w-64 bg-[#002e35] border border-[#00d58b]/40 text-gray-200 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#00d58b]/70 focus:border-[#00d58b] placeholder-gray-500 transition-all duration-300"
        />

        <a (click)="onSearch()" class="cursor-pointer">
          <fa-icon
            [icon]="faSearch"
            class="absolute right-4 top-1/2 -translate-y-1/2 text-[#00d58b]"
          ></fa-icon>
        </a>
      </div>
    </nav>
    <button
      *ngIf="isLoggedIn"
      (click)="logout()"
      class="inline-flex items-center bg-gray-800 border-0 py-1 px-3 focus:outline-none hover:text-white hover:bg-red-700 rounded text-base mt-4 md:mt-0"
    >
      Salir
      <fa-icon [icon]="faRightFromBracket" class="ml-2"></fa-icon>
    </button>
    <button
      *ngIf="!isLoggedIn"
      (click)="navigate('/login')"
      class="inline-flex items-center bg-gray-800 border-0 py-1 px-3 focus:outline-none hover:text-black hover:bg-[#00d58b] rounded text-base mt-4 md:mt-0"
    >
      Ingresar
      <fa-icon [icon]="faRightToBracket" class="ml-2"></fa-icon>
    </button>
  </div>
</header>
